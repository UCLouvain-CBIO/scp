<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read single-cell proteomics data as a QFeatures object from tabular data and metadata — readSCP • scp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read single-cell proteomics data as a QFeatures object from tabular data and metadata — readSCP"><meta property="og:description" content="Convert tabular quantitative MS data and metadata from a
spreadsheet or a data.frame into a QFeatures object containing
SingleCellExperiment objects."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.11.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/scp.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/advanced.html">Advanced usage of `scp`</a>
    </li>
    <li>
      <a href="../articles/QFeatures_nutshell.html">QFeatures in a nutshell</a>
    </li>
    <li>
      <a href="../articles/read_scp.html">Load Single-Cell Proteomics data using `readSCP`</a>
    </li>
    <li>
      <a href="../articles/reporting_missing_values.html">Reporting missing values for Single Cell Proteomics</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/UCLouvain-CBIO/scp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read single-cell proteomics data as a QFeatures object from tabular data and metadata</h1>
    <small class="dont-index">Source: <a href="https://github.com/UCLouvain-CBIO/scp/blob/HEAD/R/readSCP.R" class="external-link"><code>R/readSCP.R</code></a></small>
    <div class="hidden name"><code>readSCP.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert tabular quantitative MS data and metadata from a
spreadsheet or a <code>data.frame</code> into a QFeatures object containing
<a href="https://rdrr.io/pkg/SingleCellExperiment/man/SingleCellExperiment.html" class="external-link">SingleCellExperiment</a> objects.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">readSCP</span><span class="op">(</span></span>
<span>  <span class="va">featureData</span>,</span>
<span>  <span class="va">colData</span>,</span>
<span>  <span class="va">batchCol</span>,</span>
<span>  <span class="va">channelCol</span>,</span>
<span>  suffix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">""</span>,</span>
<span>  removeEmptyCols <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>featureData</dt>
<dd><p>File or object holding the identification and
quantitative data. Can be either a <code>character(1)</code> with the
path to a text-based spreadsheet (comma-separated values by
default, but see <code>...</code>) or an object that can be coerced to a
<code>data.frame</code>. It is advised not to encode characters as
factors.</p></dd>


<dt>colData</dt>
<dd><p>A <code>data.frame</code> or any object that can be coerced
to a <code>data.frame</code>. <code>colData</code> is expected to contain all the
sample meta information. Required fields are the acquisition
batch (given by <code>batchCol</code>) and the acquisition channel within
the batch (e.g. TMT channel, given by
<code>channelCol</code>). Additional fields (e.g. sample type,
acquisition date,...) are allowed and will be stored as sample
meta data.</p></dd>


<dt>batchCol</dt>
<dd><p>A <code>numeric(1)</code> or <code>character(1)</code> pointing to the
column of <code>featureData</code> and <code>colData</code> that contain the batch
names. Make sure that the column name in both table are either
identical and syntactically valid (if you supply a <code>character</code>)
or have the same index (if you supply a <code>numeric</code>). Note that
characters can be converted to syntactically valid names using
<code>make.names</code></p></dd>


<dt>channelCol</dt>
<dd><p>A <code>numeric(1)</code> or <code>character(1)</code> pointing to the
column of <code>colData</code> that contains the column names of the
quantitative data in <code>featureData</code> (see Example).</p></dd>


<dt>suffix</dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> giving the suffix of the column
names in each assay. Sample/single-cell (column) names are
automatically generated using: batch name + sep + suffix. Make
sure suffix contains unique character elements. The length of
the vector should equal the number of quantification channels.
If NULL (default), the suffix is derived from the the names of
the quantification columns in <code>featureData</code>.</p></dd>


<dt>sep</dt>
<dd><p>A <code>character(1)</code> that is inserted between the assay
name and the <code>suffix</code> (see <code>suffix</code> argument for more details).</p></dd>


<dt>removeEmptyCols</dt>
<dd><p>A <code>logical(1)</code>. If true, the function will
remove in each batch the columns that contain only missing
values.</p></dd>


<dt>verbose</dt>
<dd><p>A <code>logical(1)</code> indicating whether the progress of
the data reading and formatting should be printed to the
console. Default is <code>TRUE</code>.</p></dd>


<dt>...</dt>
<dd><p>Further arguments that can be passed on to <a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a>
except <code>stringsAsFactors</code>, which is always <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An instance of class QFeatures. The expression data of
each batch is stored in a separate assay as a
<a href="https://rdrr.io/pkg/SingleCellExperiment/man/SingleCellExperiment.html" class="external-link">SingleCellExperiment</a> object.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The <code>SingleCellExperiment</code> class is built on top of the
<code>RangedSummarizedExperiment</code> class. This means that some column names
are forbidden in the <code>rowData</code>. Avoid using the following names:
<code>seqnames</code>, <code>ranges</code>, <code>strand</code>, <code>start</code>, <code>end</code>,
<code>width</code>,  <code>element</code></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Gatto, Christophe Vanderaa</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Load an example table containing MaxQuant output</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"mqScpData"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Load the (user-generated) annotation table</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sampleAnnotation"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Format the tables into a QFeatures object</span></span></span>
<span class="r-in"><span><span class="fu">readSCP</span><span class="op">(</span>featureData <span class="op">=</span> <span class="va">mqScpData</span>,</span></span>
<span class="r-in"><span>        colData <span class="op">=</span> <span class="va">sampleAnnotation</span>,</span></span>
<span class="r-in"><span>        batchCol <span class="op">=</span> <span class="st">"Raw.file"</span>,</span></span>
<span class="r-in"><span>        channelCol <span class="op">=</span> <span class="st">"Channel"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading data as a 'SingleCellExperiment' object</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Splitting data based on 'Raw.file'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Formatting sample metadata (colData)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Formatting data as a 'QFeatures' object</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> An instance of class QFeatures containing 4 assays:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 190222S_LCA9_X_FP94BM: SingleCellExperiment with 395 rows and 16 columns </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2] 190321S_LCA10_X_FP97AG: SingleCellExperiment with 487 rows and 16 columns </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3] 190321S_LCA10_X_FP97_blank_01: SingleCellExperiment with 109 rows and 16 columns </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4] 190914S_LCB3_X_16plex_Set_21: SingleCellExperiment with 370 rows and 16 columns </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Christophe Vanderaa, Laurent Gatto.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

